<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Mega-Bot AI</title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="styleass.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="logo.svg" type="image/png">

</head>

<body>
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-20">
                <img src="logo.svg" alt="Federal Exchange" class="h-12">

                <!-- Full nav till 1440px -->
                <div class="hidden xl:flex space-x-6">
                    <a href="index.html" class="text-gray-700 hover:text-blue-900">Home</a>
                    <a href="Cryptoconvertor.html" class="text-gray-700 hover:text-blue-900">Crypto Converter</a>
                    <a href="service.html" class="text-gray-700 hover:text-blue-900">Services</a>
                    <a href="register.html" class="text-gray-700 hover:text-blue-900">Register</a>
                    <a href="about.html" class="text-gray-700 hover:text-blue-900">About Us</a>
                    <a href="assistance.html" class="text-gray-700 hover:text-blue-900">Assistance</a>
                    <a href="faq.html" class="text-gray-700 hover:text-blue-900">FAQ</a>
                </div>

                <!-- Dropdown below 1440px -->
                <div class="xl:hidden relative">
                    <button id="dropdownBtn" class="text-gray-700 hover:text-blue-900 font-medium focus:outline-none">
                        PROJECT WORK ▾
                    </button>
                    <div id="dropdownMenu" class="absolute hidden bg-white shadow-md rounded-lg py-2 mt-2 w-48">
                        <a href="index.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">Home</a>
                        <a href="Cryptoconvertor.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">Crypto
                            Converter</a>
                        <a href="service.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">Services</a>
                        <a href="register.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">Register</a>
                        <a href="about.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">About Us</a>
                        <a href="assistance.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">Assistance</a>
                        <a href="faq.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">FAQ</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <script>
        document.getElementById('dropdownBtn').addEventListener('click', function () {
            document.getElementById('dropdownMenu').classList.toggle('hidden');
        });
    </script>



    <header class="header">
        <h1 class="title">Hello, there</h1>
        <p class="subtitle">How can I help you today?</p>
        <ul class="suggestion-list">
            <li class="suggestion">
                <h4 class="text">What is the MCA Currency Converter project?</h4><span
                    class="icon material-symbols-rounded">draw</span>
            </li>
            <li class="suggestion">
                <h4 class="text">How does the currency pair section work?</h4><span
                    class="icon material-symbols-rounded">lightbulb</span>
            </li>
            <li class="suggestion">
                <h4 class="text">Does the platform cover all global currencies?</h4><span
                    class="icon material-symbols-rounded">explore</span>
            </li>
            <li class="suggestion">
                <h4 class="text">Who created this project?</h4><span class="icon material-symbols-rounded">code</span>
            </li>
            <li class="suggestion">
                <h4 class="text">How accurate are the exchange rates?</h4><span
                    class="icon material-symbols-rounded">draw</span>
            </li>
            <li class="suggestion">
                <h4 class="text">How frequently are exchange rates updated?</h4><span
                    class="icon material-symbols-rounded">lightbulb</span>
            </li>
            <li class="suggestion">
                <h4 class="text">What are the total inner pages in this project?</h4><span
                    class="icon material-symbols-rounded">explore</span>
            </li>
            <li class="suggestion">
                <h4 class="text">Can I use this for commercial purposes?</h4><span
                    class="icon material-symbols-rounded">code</span>
            </li>
            <li class="suggestion">
                <h4 class="text">Does this include a statistics section?</h4><span
                    class="icon material-symbols-rounded">draw</span>
            </li>
            <li class="suggestion">
                <h4 class="text">Can I get real-time updates?</h4><span
                    class="icon material-symbols-rounded">lightbulb</span>
            </li>
            <li class="suggestion">
                <h4 class="text">Is there a mobile-friendly version?</h4><span
                    class="icon material-symbols-rounded">explore</span>
            </li>
            <li class="suggestion">
                <h4 class="text">How can I contribute to this project?</h4><span
                    class="icon material-symbols-rounded">code</span>
            </li>
            <li class="suggestion">
                <h4 class="text">Can I see past currency trends?</h4><span
                    class="icon material-symbols-rounded">draw</span>
            </li>
            <li class="suggestion">
                <h4 class="text">Are there any future plans for expansion?</h4><span
                    class="icon material-symbols-rounded">lightbulb</span>
            </li>
            <li class="suggestion">
                <h4 class="text">Where can I contact for support?</h4><span
                    class="icon material-symbols-rounded">explore</span>
            </li>
        </ul>
    </header>
    <div class="chat-list"></div>
    <div class="typing-area">
        <form class="typing-form">
            <div class="input-wrapper">
                <input type="text" placeholder="Enter a prompt here" id="userInput" class="typing-input" required />
                <button id="send-message-button" class="icon material-symbols-rounded">send</button>
                <pre id="response"></pre>
            </div>
            <div class="action-buttons">
                <span id="theme-toggle-button" class="icon material-symbols-rounded">light_mode</span>
                <span id="delete-chat-button" class="icon material-symbols-rounded">delete</span>
            </div>
        </form>
        <p class="disclaimer-text">
            Mega-Bot may display inaccurate info, including about people, so double-check its responses.
        </p>
    </div>



    <script>
        const typingForm = document.querySelector(".typing-form");
        const chatContainer = document.querySelector(".chat-list");
        const suggestions = document.querySelectorAll(".suggestion");
        const toggleThemeButton = document.querySelector("#theme-toggle-button");
        const deleteChatButton = document.querySelector("#delete-chat-button");

        let userMessage = null;
        let isResponseGenerating = false;

        const API_KEY = 'AIzaSyC-a4QOqLhoMDNw6DNYIKNPGYUOZGJTbk4'; // Replace with your actual API key

        const predefinedResponses = {
            "what is tree": "A tree is a perennial woody plant characterized by having a trunk that supports branches and leaves. It plays a crucial role in the environment by providing oxygen, absorbing carbon dioxide, and supporting a wide variety of wildlife.",
            "hi": "Hello! How can I assist you today?",
            "hello": "Hi there! What would you like to know about the MCA Currency Converter project?",
            "how are you?": "I'm doing well, thank you for asking! How can I assist you today?",
            "weather": "I can help you with weather information. Please provide me with your location."
        };


        // Create a message element
        const createMessageElement = (content, ...classes) => {
            const div = document.createElement("div");
            div.classList.add("message", ...classes);
            div.innerHTML = content;
            return div;
        };

        // Show typing effect for incoming responses
        const showTypingEffect = (text, textElement) => {
            const words = text.split(' ');
            let currentWordIndex = 0;
            const typingInterval = setInterval(() => {
                textElement.innerText += (currentWordIndex === 0 ? '' : ' ') + words[currentWordIndex++];
                if (currentWordIndex === words.length) {
                    clearInterval(typingInterval);
                    isResponseGenerating = false;
                }
                chatContainer.scrollTo(0, chatContainer.scrollHeight);
            }, 30);
        };

        // Show predefined response
        const showPredefinedResponse = (incomingMessageDiv, textElement) => {
            setTimeout(() => {
                const normalizedUserMessage = userMessage.toLowerCase().trim();
                const response = predefinedResponses[normalizedUserMessage] || predefinedResponses["default"];
                showTypingEffect(response, textElement);
            }, 1000);
        };

        // Show loading animation
        const showLoadingAnimation = () => {
            const html = `<div class="message-content">
        <img class="avatar" src="logo.svg" alt="Gemini avatar">
        <p class="text"></p>
        <div class="loading-indicator">
            <div class="loading-bar"></div>
            <div class="loading-bar"></div>
            <div class="loading-bar"></div>
        </div>
    </div>`;
            const incomingMessageDiv = createMessageElement(html, "incoming", "loading");
            chatContainer.appendChild(incomingMessageDiv);
            chatContainer.scrollTo(0, chatContainer.scrollHeight);
            const textElement = incomingMessageDiv.querySelector(".text");
            showPredefinedResponse(incomingMessageDiv, textElement);
            incomingMessageDiv.classList.remove("loading");
        };

        // Fetch response from Gemini API
        async function askGemini() {
            const userInput = userMessage;  // Get user input

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: userInput }] }]
                    })
                });

                // Check if the response is OK
                if (!response.ok) {
                    throw new Error(`API Error: ${response.statusText}`);
                }

                // Parse the response data
                const data = await response.json();
                const output = data.candidates[0]?.content?.parts[0]?.text;

                // Display the output from the API
                if (output) {
                    displayResponse(output);
                } else {
                    displayResponse('Sorry, I could not understand that. Could you please rephrase?');
                }
            } catch (error) {
                // Handle any errors (network, JSON parsing, etc.)
                console.error(error);
                displayResponse(`Oops! Something went wrong: ${error.message}. Please try again later.`);
            }
        }



        // Display the response in the chat container
        const displayResponse = (responseText) => {
            const html = `<div class="message-content">
                    <img class="avatar" src="logo.svg" alt="Gemini avatar">
                    <p class="text">${responseText}</p>
                  </div>`;
            const incomingMessageDiv = createMessageElement(html, "incoming");
            chatContainer.appendChild(incomingMessageDiv);
            chatContainer.scrollTo(0, chatContainer.scrollHeight);
        };

        // Handle outgoing chat message
        const handleOutgoingChat = () => {
            if (isResponseGenerating) return;
            userMessage = typingForm.querySelector(".typing-input").value.trim();
            if (!userMessage) return;

            isResponseGenerating = true;

            const html = `<div class="message-content">
                    <img class="avatar" src="user.jpg" alt="User avatar">
                    <p class="text">${userMessage}</p>
                  </div>`;
            const outgoingMessageDiv = createMessageElement(html, "outgoing");
            chatContainer.appendChild(outgoingMessageDiv);
            typingForm.reset();
            chatContainer.scrollTo(0, chatContainer.scrollHeight);
            showLoadingAnimation();
            setTimeout(askGemini, 1000);  // Simulate a delay before asking Gemini API
        };

        // Set default theme to light mode if no preference is set
        if (!localStorage.getItem("themeColor")) {
            localStorage.setItem("themeColor", "light_mode");
        }

        // Apply saved theme
        const applyTheme = (theme) => {
            document.body.classList.toggle("dark_mode", theme === "dark_mode");
            document.body.classList.toggle("light_mode", theme === "light_mode");
            toggleThemeButton.innerText = theme === "light_mode" ? "dark_mode" : "light_mode";
        };

        const savedTheme = localStorage.getItem("themeColor");
        applyTheme(savedTheme);

        // Toggle theme on button click
        toggleThemeButton.addEventListener("click", () => {
            const newTheme = document.body.classList.contains("dark_mode") ? "light_mode" : "dark_mode";
            localStorage.setItem("themeColor", newTheme);
            applyTheme(newTheme);
        });

        // Delete all messages in chat
        deleteChatButton.addEventListener("click", () => {
            chatContainer.innerHTML = "";
        });

        // Suggestion click events
        suggestions.forEach(suggestion => {
            suggestion.addEventListener("click", () => {
                userMessage = suggestion.querySelector(".text").innerText;
                handleOutgoingChat();
            });
        });

        // Handle form submit
        typingForm.addEventListener("submit", (e) => {
            e.preventDefault();
            handleOutgoingChat();
        });





    </script>

    <img src="user.jpg" style="display:none;" alt="User avatar">
    <img src="logo.svg" style="display:none;" alt="Gemini avatar">

    <div class="fixed bottom-5 right-5">
        <!-- WhatsApp Button -->
        <a href="https://wa.me/7060783267" target="_blank"
            class="bg-green-500 text-white p-3 rounded-full shadow-lg flex items-center">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp"
                class="w-6 h-6 mr-2">
            Chat on WhatsApp
        </a>
    </div>
    <!-- Updated: Footer with more navigation links -->
    <footer class="bg-blue-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">Currency Converter Project</h3>
                    <p class="text-gray-300">A comprehensive solution for global currency conversion.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-300 hover:text-white">Home</a></li>
                        <li><a href="service.html" class="text-gray-300 hover:text-white">Services</a></li>
                        <li><a href="register.html" class="text-gray-300 hover:text-white">Register</a></li>
                        <li><a href="about.html" class="text-gray-300 hover:text-white">About Us</a></li>
                        <li><a href="faq.html" class="text-gray-300 hover:text-white">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Contact Info</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li><i class="fas fa-map-marker-alt mr-2"></i>Bangalore, India</li>
                        <li><i class="fas fa-phone mr-2"></i>+91 70179 59638</li>
                        <li><i class="fas fa-envelope mr-2"></i><a href="mailto:himashurbsmtc10@gmail.com"
                                class="hover:text-white">himashurbsmtc10@gmail.com</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Working Hours</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li>Monday - Friday: 9:00 - 18:00</li>
                        <li>Saturday: 9:00 - 14:00</li>
                        <li>Sunday: Closed</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-blue-800 mt-8 pt-8 text-center">
                <p class="text-gray-300">© 2025 College Project Rights</p>
            </div>
        </div>
    </footer>

</body>

</html>