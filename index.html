<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>
</head>

<body class="bg-white">
    <!-- Updated: Top bar with contact info -->
    <div class="bg-blue-900 text-white py-2">
        <div class="max-w-7xl mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <span><i class="fas fa-phone mr-2"></i>+91 70179 59638</span>
                <span><i class="fas fa-envelope mr-2"></i>himashurbsmtc10@gmail.com</span>
            </div>
            <div class="flex items-center space-x-4">
                <a href="#" class="hover:text-blue-200"><i class="fab fa-facebook"></i></a>
                <a href="#" class="hover:text-blue-200"><i class="fab fa-twitter"></i></a>
                <a href="#" class="hover:text-blue-200"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
    </div>

    <!-- Updated: Main navigation with new design -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-20">
                <img src="logo.svg" alt="Federal Exchange"
                    class="h-12">

                <div class="relative">
                    <button id="dropdownBtn" class="text-gray-700 hover:text-blue-900 font-medium focus:outline-none">
                        PROJECT WORK ▾
                    </button>
                    <div id="dropdownMenu" class="absolute hidden bg-white shadow-md rounded-lg py-2 mt-2 w-48">
                        <a href="index.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">Home</a>
                        <a href="Cryptoconvertor.html"
                            class="block px-4 py-2 text-gray-700 hover:bg-gray-200">Cryptocurrency Converter</a>
                        <a href="service.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">Services</a>
                        <a href="register.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">Register</a>
                        <a href="about.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">About Us</a>
                        <a href="faq.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200">FAQ</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <script>
        document.getElementById('dropdownBtn').addEventListener('click', function () {
            document.getElementById('dropdownMenu').classList.toggle('hidden');
        });
    </script>
    <!-- Added: Hero section with background image -->
    <section class="relative h-[600px] bg-cover bg-center">
        <video autoplay muted loop class="absolute inset-0 w-full h-full object-cover">
            <source src="vv.mp4" type="video/mp4">
        </video>
        <div class="absolute inset-0 bg-black bg-opacity-50"></div>
        <div class="relative max-w-7xl mx-auto px-4 h-full flex items-center">
            <div class="text-white">
                <h1 class="text-5xl font-bold mb-6">Global Currency Converter<br>Money Exchange</h1>
                <p class="text-xl mb-8">Convert currencies instantly with accurate exchange rates</p>
                <button class="bg-blue-900 text-white px-8 py-3 rounded-lg hover:bg-blue-800 transition duration-300">
                    <a href="#curr" class="block text-white no-underline">Try Now</a>
                </button>
            </div>
        </div>
    </section>

    <!-- Updated: Exchange rate calculator with new design -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="bg-white rounded-xl shadow-lg p-8" id="curr">
                <h2 class="text-3xl font-bold mb-6 text-blue-900">Currency Calculator</h2>
                <div class="space-y-6">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">From Currency</label>
                            <select id="fromCurrency"
                                class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500"></select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">To Currency</label>
                            <select id="toCurrency"
                                class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500"></select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Amount</label>
                        <input type="number" id="amount"
                            class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500"
                            placeholder="Enter amount">
                    </div>
                    <button onclick="convertCurrency()"
                        class="w-full bg-blue-900 text-white py-3 rounded-lg hover:bg-blue-800 transition duration-300">Calculate</button>
                    <div id="result" class="text-center text-xl font-bold text-blue-900 mt-4"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Added: Services section -->
    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-blue-900">Our Services</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                    <i class="fas fa-exchange-alt text-4xl text-blue-900 mb-4"></i>
                    <h3 class="text-xl font-bold mb-3">Currency Exchange</h3>
                    <p class="text-gray-600">Best rates for all major world currencies</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                    <i class="fas fa-money-bill-wave text-4xl text-blue-900 mb-4"></i>
                    <h3 class="text-xl font-bold mb-3">Money Transfer</h3>
                    <p class="text-gray-600">Fast and secure international transfers</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                    <i class="fas fa-coins text-4xl text-blue-900 mb-4"></i>
                    <h3 class="text-xl font-bold mb-3">Wholesale Currency</h3>
                    <p class="text-gray-600">Bulk currency exchange for businesses</p>
                </div>
            </div>
        </div>
    </section>
    <div class="container mx-auto px-4 py-8">
        <header class="text-center mb-12">
            <h1 class="text-3xl font-bold text-center mb-12 text-blue-900">Currency Trends Tracker</h1>
            <p class="text-gray-600">Monitor and analyze real-time currency exchange rates</p>
        </header>
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8">
            <div class="lg:col-span-1 space-y-4">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-lg font-semibold mb-4">Currency Pair</h2>
                    <select id="currencyPair"
                        class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="USD/EUR" selected>USD/EUR</option>
                        <option value="EUR/USD">EUR/USD</option>
                        <option value="GBP/USD">GBP/USD</option>
                        <option value="USD/JPY">USD/JPY</option>
                        <option value="USD/CHF">USD/CHF</option>
                    </select>

                    <h2 class="text-lg font-semibold mt-6 mb-4">Time Range</h2>
                    <div class="space-y-2">
                        <button
                            class="px-3 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-blue-100 hover:text-blue-600 active:bg-blue-200 focus:ring-2 focus:ring-blue-500">7
                            Days</button>
                        <button
                            class="px-3 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-blue-100 hover:text-blue-600 active:bg-blue-200 focus:ring-2 focus:ring-blue-500">1
                            Month</button>
                        <button
                            class="px-3 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-blue-100 hover:text-blue-600 active:bg-blue-200 focus:ring-2 focus:ring-blue-500">3
                            Months</button>
                        <button
                            class="px-3 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-blue-100 hover:text-blue-600 active:bg-blue-200 focus:ring-2 focus:ring-blue-500">6
                            Months</button>
                        <button
                            class="px-3 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-blue-100 hover:text-blue-600 active:bg-blue-200 focus:ring-2 focus:ring-blue-500">1
                            Year</button>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-3">
                <div class="bg-white p-6 rounded-lg shadow-md h-[600px]">
                    <h2 class="text-xl font-semibold">Exchange Rate Chart</h2>
                    <canvas id="currencyChart" class="w-full h-[500px]"></canvas>
                </div>
            </div>
        </div>

    </div>
    <!-- Testimonials Section -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-blue-900">What Our Users Say</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-gray-100 p-6 rounded-xl shadow-lg text-center">
                    <p class="text-gray-600 italic">“This is the best currency converter I have ever used! The rates are
                        always accurate.”</p>
                    <h3 class="mt-4 font-bold">- John Doe</h3>
                </div>
                <div class="bg-gray-100 p-6 rounded-xl shadow-lg text-center">
                    <p class="text-gray-600 italic">“Super fast and reliable. I use this daily for my business
                        transactions.”</p>
                    <h3 class="mt-4 font-bold">- Sarah Smith</h3>
                </div>
                <div class="bg-gray-100 p-6 rounded-xl shadow-lg text-center">
                    <p class="text-gray-600 italic">“A must-have tool for travelers! It makes converting currencies so
                        easy.”</p>
                    <h3 class="mt-4 font-bold">- Michael Lee</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-blue-900">Frequently Asked Questions</h2>
            <div class="space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-bold text-blue-900">How accurate are the exchange rates?</h3>
                    <p class="text-gray-600 mt-2">Our rates are updated in real-time using trusted financial data
                        sources.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-bold text-blue-900">Do you charge any fees for conversion?</h3>
                    <p class="text-gray-600 mt-2">No, our currency converter is completely free to use.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-bold text-blue-900">Can I use this tool for business transactions?</h3>
                    <p class="text-gray-600 mt-2">Yes! Many businesses use our converter to get accurate exchange rates.
                    </p>
                </div>
            </div>
        </div>
    </section>
    <div class="fixed bottom-5 right-5">
        <!-- Chatbot Button -->
        <button id="chatbot-toggle" class="bg-blue-600 text-white p-3 rounded-full shadow-lg">
            Himanshu's BOT
        </button>
        <!-- Chatbot UI -->
        <div id="chatbot-container" class="hidden bg-white shadow-lg rounded-lg w-80 h-96 p-4">
            <div class="flex justify-between items-center border-b pb-2">
                <h3 class="text-lg font-semibold">Himanshu's Bot</h3>
                <button id="chatbot-close" class="text-gray-500 hover:text-red-600">&times;</button>
            </div>
            <div id="chatbot-messages" class="mt-4 overflow-y-auto h-64">
                <!-- Initial Greeting -->
                <div class="text-left my-2">
                    <span class="bg-gray-200 text-black p-2 rounded-lg inline-block">
                        Hi, I am Himanshu's BOT!<br>
                        Do you need any help?
                    </span>
                </div>
            </div>
            <form id="chatbot-form" class="mt-4 flex">
                <input type="text" id="chatbot-input" class="flex-1 border rounded-l-lg p-2"
                    placeholder="Type your reply...">
                <button type="submit" class="bg-blue-600 text-white px-4 rounded-r-lg">Send</button>
            </form>
        </div>
    </div>
    <!-- Updated: Footer with more navigation links -->
    <footer class="bg-blue-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">Currency Converter Project</h3>
                    <p class="text-gray-300">A comprehensive solution for global currency conversion.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-300 hover:text-white">Home</a></li>
                        <li><a href="service.html" class="text-gray-300 hover:text-white">Services</a></li>
                        <li><a href="register.html" class="text-gray-300 hover:text-white">Register</a></li>
                        <li><a href="about.html" class="text-gray-300 hover:text-white">About Us</a></li>
                        <li><a href="faq.html" class="text-gray-300 hover:text-white">FAQ</a></li>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Contact Info</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li><i class="fas fa-map-marker-alt mr-2"></i>Bangalore, India</li>
                        <li><i class="fas fa-phone mr-2"></i>+91 70179 59638</li>
                        <li><i class="fas fa-envelope mr-2"></i><a href="mailto:himashurbsmtc10@gmail.com"
                                class="hover:text-white">himashurbsmtc10@gmail.com</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Working Hours</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li>Monday - Friday: 9:00 - 18:00</li>
                        <li>Saturday: 9:00 - 14:00</li>
                        <li>Sunday: Closed</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-blue-800 mt-8 pt-8 text-center">
                <p class="text-gray-300">© 2025 College Project Rights</p>
            </div>
        </div>
    </footer>


    <script>
        const apiUrl = 'https://open.er-api.com/v6/latest/USD';

        async function populateCurrencies() {
            const response = await fetch(apiUrl);
            const data = await response.json();
            const currencies = Object.keys(data.rates);
            const fromSelect = document.getElementById('fromCurrency');
            const toSelect = document.getElementById('toCurrency');

            currencies.forEach(currency => {
                fromSelect.add(new Option(currency, currency));
                toSelect.add(new Option(currency, currency));
            });

            fromSelect.value = 'USD';
            toSelect.value = 'AED';
        }

        async function convertCurrency() {
            const fromCurrency = document.getElementById('fromCurrency').value;
            const toCurrency = document.getElementById('toCurrency').value;
            const amount = parseFloat(document.getElementById('amount').value);

            if (isNaN(amount) || amount <= 0) {
                alert('Please enter a valid amount');
                return;
            }

            const response = await fetch(apiUrl);
            const data = await response.json();
            const rate = data.rates[toCurrency] / data.rates[fromCurrency];
            const convertedAmount = (amount * rate).toFixed(2);

            document.getElementById('result').innerText = `${amount} ${fromCurrency} = ${convertedAmount} ${toCurrency}`;
        }

        populateCurrencies();

        document.addEventListener('DOMContentLoaded', function () {
            const ctx = document.getElementById('currencyChart').getContext('2d');
            const currencyPairSelect = document.getElementById('currencyPair');
            const dateInputs = document.querySelectorAll('input[type="date"]');
            const buttons = document.querySelectorAll('.space-y-2 button');
            let currentPair = "USD/EUR";

            let labels = ['Apr 2024', 'May 2024', 'Jun 2024', 'Jul 2024', 'Aug 2024', 'Sep 2024', 'Oct 2024', 'Nov 2024', 'Dec 2024', 'Jan 2025', 'Feb 2025', 'Mar 2025'];
            let historicalData = [1.10, 1.09, 1.08, 1.11, 1.12, 1.10, 1.09, 1.08, 1.07, 1.06, 1.05, 1.0886];

            const chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: `${currentPair} Exchange Rate`,
                        data: historicalData,
                        borderColor: 'rgb(75, 192, 192)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: true }
                    },
                    scales: {
                        x: { type: 'category' },
                        y: { beginAtZero: false }
                    }
                }
            });

            async function fetchExchangeRates(pair) {
                try {
                    const baseCurrency = pair.split("/")[0];
                    const response = await fetch(`https://api.exchangerate-api.com/v4/latest/${baseCurrency}`);
                    const data = await response.json();
                    const newRate = data.rates[pair.split("/")[1]];

                    // Update chart with real data
                    updateChart(newRate);
                } catch (error) {
                    console.error("Error fetching exchange rate data:", error);
                }
            }

            function updateChart(newRate) {
                const currentDate = new Date().toLocaleDateString('en-US', { month: 'short', year: 'numeric' });

                chart.data.labels.push(currentDate);
                chart.data.datasets[0].data.push(newRate);

                if (chart.data.labels.length > 12) {
                    chart.data.labels.shift();
                    chart.data.datasets[0].data.shift();
                }

                chart.update();
            }

            function filterChart(timeRange) {
                let rangeMonths = { "7 Days": 7, "1 Month": 30, "3 Months": 90, "6 Months": 180, "1 Year": 365 };
                let daysToFilter = rangeMonths[timeRange] || 365;

                let endDate = new Date();
                let startDate = new Date();
                startDate.setDate(startDate.getDate() - daysToFilter);

                let filteredLabels = labels.filter(label => {
                    let labelDate = new Date(label);
                    return labelDate >= startDate && labelDate <= endDate;
                });

                let filteredData = historicalData.slice(-filteredLabels.length);

                chart.data.labels = filteredLabels;
                chart.data.datasets[0].data = filteredData;
                chart.update();
            }

            function applyCustomRange() {
                let startDate = new Date(dateInputs[0].value);
                let endDate = new Date(dateInputs[1].value);

                if (!isNaN(startDate) && !isNaN(endDate)) {
                    let filteredLabels = labels.filter(label => {
                        let labelDate = new Date(label);
                        return labelDate >= startDate && labelDate <= endDate;
                    });

                    let filteredData = historicalData.slice(-filteredLabels.length);
                    chart.data.labels = filteredLabels;
                    chart.data.datasets[0].data = filteredData;
                    chart.update();
                }
            }

            currencyPairSelect.addEventListener('change', function () {
                currentPair = this.value;
                chart.data.datasets[0].label = `${currentPair} Exchange Rate`;
                fetchExchangeRates(currentPair);
            });

            buttons.forEach(button => {
                button.addEventListener('click', function () {
                    buttons.forEach(btn => btn.classList.remove("bg-blue-50", "text-blue-600"));
                    this.classList.add("bg-blue-50", "text-blue-600");
                    filterChart(this.innerText.trim());
                });
            });

            dateInputs.forEach(input => input.addEventListener('change', applyCustomRange));

            setInterval(() => fetchExchangeRates(currentPair), 3600000);
            fetchExchangeRates(currentPair);
        });



        // JavaScript for toggling the chatbot
        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotContainer = document.getElementById('chatbot-container');
        const chatbotClose = document.getElementById('chatbot-close');

        chatbotToggle.addEventListener('click', () => {
            chatbotContainer.classList.toggle('hidden');
        });

        chatbotClose.addEventListener('click', () => {
            chatbotContainer.classList.add('hidden');
        });

        // Chatbot Message Handler
        const chatbotForm = document.getElementById('chatbot-form');
        const chatbotMessages = document.getElementById('chatbot-messages');
        let conversationStep = 0; // Track the conversation step

        chatbotForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userMessage = document.getElementById('chatbot-input').value.trim();
            if (userMessage !== '') {
                // Display user's message
                chatbotMessages.innerHTML += `
          <div class="text-right my-2">
            <span class="bg-blue-500 text-white p-2 rounded-lg inline-block">${userMessage}</span>
          </div>
        `;
                document.getElementById('chatbot-input').value = '';

                // Bot Response Logic
                setTimeout(() => {
                    let botMessage = '';

                    if (conversationStep === 0) {
                        botMessage = `Please send your query in brief to:<br>
                          <strong>+91 70179 59638</strong><br>
                          <strong>himashurbsmtc10@gmail.com</strong><br>
                          We will contact you back shortly.`;
                        conversationStep++;
                    } else if (conversationStep === 1) {
                        botMessage = 'Thank you! Have a great day!';
                        conversationStep++;
                    } else {
                        botMessage = 'I am here if you need further assistance.';
                    }

                    chatbotMessages.innerHTML += `
            <div class="text-left my-2">
              <span class="bg-gray-200 text-black p-2 rounded-lg inline-block">${botMessage}</span>
            </div>
          `;
                    chatbotMessages.scrollTop = chatbotMessages.scrollHeight; // Scroll to the bottom
                }, 1000);
            }
        });
    </script>
</body>

</html>